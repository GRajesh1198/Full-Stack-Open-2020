{"version":3,"sources":["components/Person.js","components/Filter.js","components/FormPerson.js","services/Person.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Person","name","number","deletePerson","onClick","Filter","value","eventHandler","onChange","FormPerson","addNewPerson","newPerson","addPerson","newNumber","addNumber","onSubmit","type","baseUrl","axios","get","then","response","data","newPersonObject","post","id","delete","console","log","put","Notification","messaage","className","Error","message","App","useState","persons","setPersons","setNewPerson","setNewNumber","filter","setFilter","filterPerson","setFilterPerson","mesaage","setMesaage","errorMessage","setErrorMessage","useEffect","personService","initialList","personsArray","map","person","personsToShow","length","event","target","filteredPersons","toLowerCase","includes","preventDefault","updatedList","setTimeout","concat","catch","error","window","alert","updatedPerson","find","key","personToDelete","deletedPersonsList","deletePersonOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.34056fa0.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({name,number,deletePerson}) => {\r\n    return (\r\n        <div>\r\n            {name} {number}\r\n            <button onClick={deletePerson}> Delete </button>\r\n            <br/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Filter = ({value,eventHandler}) => {\r\n    return (\r\n        <div>\r\n                Filter Shown With : <input value={value} onChange={eventHandler}/>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst FormPerson = ({addNewPerson,newPerson,addPerson,newNumber,addNumber}) => {\r\n    return (\r\n    <form onSubmit={addNewPerson}>\r\n        <div>\r\n          name : <input value={newPerson} onChange={addPerson}/>\r\n          <br/>\r\n          number: <input value={newNumber} onChange={addNumber}/>\r\n        </div>\r\n        <button type=\"submit\">ADD</button>\r\n        </form>\r\n    )\r\n}\r\nexport default FormPerson\r\n","import axios from 'axios'\r\n\r\nconst baseUrl='/api/persons'\r\n\r\nconst getAll=()=>{\r\n    const request=axios.get(baseUrl)\r\n\r\n    return request.then(response=>response.data)\r\n}\r\nconst create=(newPersonObject)=>{\r\n    const request=axios.post(baseUrl,newPersonObject)\r\n\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst deletePerson=(id)=>{\r\n    const request=axios.delete(`${baseUrl}/${id}`)\r\n\r\n    return request.then(response=>{\r\n        console.log(response.data)\r\n        return response.data\r\n    })\r\n}\r\nconst updatePerson=(id,newPersonObject)=>{\r\n    const request=axios.put(`${baseUrl}/${id}`,newPersonObject)\r\n\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nexport default { getAll , create,deletePerson,updatePerson}","import React from 'react'\r\n\r\nconst Notification = ({messaage}) => {\r\n    if(messaage===null){\r\n        return null\r\n    }\r\n    return (\r\n        <div className='error'>\r\n            {messaage}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error=({message})=>{\r\n    if(message===null){\r\n        return null\r\n    }\r\n\r\n    return(\r\n        <div className=\"errorMessage\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React,{useState,useEffect} from 'react';\r\nimport Person from \"./components/Person\";\r\nimport Filter from './components/Filter'\r\nimport FormPerson from './components/FormPerson'\r\nimport personService from './services/Person'\r\nimport Notification from './components/Notification'\r\nimport Error from './components/Error'\r\nimport './index.css'\r\n\r\n\r\nconst App=()=>{\r\n    const [persons,setPersons]=useState([])\r\n    const [newPerson,setNewPerson]=useState('')\r\n    const [newNumber,setNewNumber]=useState('')\r\n    const [filter,setFilter]=useState('')\r\n    const [filterPerson,setFilterPerson]=useState([])\r\n    const [mesaage,setMesaage]=useState(null)\r\n    const [errorMessage,setErrorMessage]=useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialList=>{\r\n                setPersons(initialList)\r\n            })\r\n    }, [])\r\n\r\n    const deletePersonOf=(id)=>{\r\n        const personToDelete=persons.find(person=>person.id===id)\r\n        console.log(`${personToDelete.name} has to be deleted`)\r\n        personService\r\n            .deletePerson(id)\r\n            .then(updatedList=>{\r\n                const deletedPersonsList=persons.filter(person=>person.id!==id)\r\n                setMesaage(`Deleted ${personToDelete.name}`)\r\n                setTimeout(()=>{\r\n                    setMesaage(null)\r\n                },2000)\r\n                setPersons(deletedPersonsList)\r\n            })\r\n            .catch(error=>{\r\n                setErrorMessage(`${personToDelete.name} has already been deleted`)\r\n            })\r\n    }\r\n\r\n    const personsArray=persons.map((person)=>person.name)\r\n\r\n\r\n    const filterPersons=(event)=>{\r\n        setFilter(event.target.value)\r\n        const filteredPersons=persons.filter(person=>person.name.toLowerCase().includes(event.target.value.toLowerCase()))\r\n        if(event.target.value.length === 0){\r\n            setFilterPerson([])\r\n        }else if(filteredPersons.length === 0){\r\n            setFilterPerson([{\r\n                name: '',\r\n                number:''\r\n            }])\r\n        }\r\n        else{\r\n            setFilterPerson(filteredPersons)\r\n        }\r\n    }\r\n\r\n\r\n    const personsToShow = filterPerson.length === 0 ? persons : filterPerson\r\n\r\n\r\n    const addPerson=(event)=>{\r\n        setNewPerson(event.target.value)\r\n    }\r\n\r\n\r\n    const addNumber=(event)=>{\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n\r\n    const addNewPerson=(event)=>{\r\n        event.preventDefault()\r\n        const newPersonObject={\r\n            name:newPerson,\r\n            number:newNumber\r\n        }\r\n        if(personsArray.includes(newPerson)===false){\r\n        personService\r\n            .create(newPersonObject) \r\n            .then(updatedList=>{\r\n                setMesaage(`Added ${newPersonObject.name}`)\r\n                setTimeout(()=>{\r\n                    setMesaage(null)\r\n                },2000)\r\n                setPersons(persons.concat(updatedList))\r\n            })\r\n            .catch(error=>{\r\n                setErrorMessage(`${newPersonObject.name} has already been deleted`)\r\n            })\r\n            \r\n        }else{\r\n            window.alert(`${newPerson} is already added to the phonebook replace the old number with a new one`)\r\n            const updatedPerson=persons.find(person=>person.name===newPerson)\r\n            personService\r\n                    .updatePerson(updatedPerson.id,newPersonObject)\r\n                    .then(updatedList=>{\r\n                        setMesaage(`Updated ${newPersonObject.name}`)\r\n                        setPersons(persons.map(person=>person.id!==updatedPerson.id ? person : updatedList))\r\n                    })\r\n                    .catch(error=>{\r\n                        setErrorMessage(`${newPersonObject.name} has already been deleted`)\r\n                        setTimeout(()=>{\r\n                            setErrorMessage(null)\r\n                        },2000)\r\n                    })\r\n        }\r\n        \r\n        setNewPerson('')\r\n        setNewNumber('')\r\n        \r\n    }\r\n    return(\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification messaage={mesaage}/>\r\n            <Error message={errorMessage}/>\r\n            <div>\r\n                <Filter value={filter} eventHandler={filterPersons}/>\r\n            </div>\r\n            <br/>\r\n            <br/>\r\n            <FormPerson addNewPerson={addNewPerson} newPerson={newPerson} \r\n                        addPerson={addPerson}\r\n                        newNumber={newNumber} addNumber={addNumber}/>\r\n            <h2>Numbers</h2>\r\n            <div>\r\n                {personsToShow.map((person)=>(\r\n                    <Person key={person.name} name={person.name} number={person.number} deletePerson={()=>deletePersonOf(person.id)}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />,document.getElementById('root'))\r\n\r\n"],"sourceRoot":""}